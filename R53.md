
# R53........(Networking)
```
- R → Routing
- 53 → It works on Port No 53**
- Route 53** is a highly available & scalable DNS (Domain Name System) web service from AWS.
- Domain is used to convert domain name to IP address.
- How can use Route 53?
   1. Transfer existing domain
   2. Register new domain
   3. Route traffic for domain
   4. Perform health check for your resources
- Route 53 is a global service
- Types of TLD
  1. Generic Level Domain
  2. Geographic Level Domain / Country code domain
  Example:
  ```

```
In AWS there are two top level domain :
  1. Generic level domain: .com, .org, .net, .edu
  2.Geographical level domain: .in, .us, .cn

Steps to configure Route-53 :
  1. First you need to register a domain
     (It can be on R53 or another DNS register)
  2. Create a hosted zone on route53 then it can be done automatically.
     If you register your domain from route53, otherwise you have to create hosted zone manually.
  3. Inside the hosted zone you need to create record set.


Hosted zone :
 - Hosted zone is a container of records
 - Records contain info for how you want to route traffic for specific domain.
   eg: ediblitz.edmingte.com/v3/myaccount
 - Types of Hosted zone
   1. Public Hosted zone:
     It contains how you want to route the traffic on internet
   2. Private Hosted zone:
     It contains records that specifies how you want to route traffic to VPC

- For each public hosted zonethat you create on Amazon-R53 automatically creates:
  1.Name Server(NS) Records:
  2.Start Of Authority(SOA) Records:
- Always remember 4 NS record will be created
- SOA record is nothing but details of your domain
- NS records is responsible for resolving your domain


Records: Record tells DNS where to route the traffic for a domain or subdomain
 Record types :
  1) A Record :
    → Maps a domain name to an IPv4 address
      eg: google.com → 8.8.8.8
  2) AAAA Record :
    → Maps a domain name to an IPv6 address
  3) CNAME Record :
    → Maps one domain name to another domain name
     [www.google.com](http://www.google.com) → google.com
  4) MX Records :
    → Routes emails to server
      example.com → mail.example.com
  5) TXT Records :
    → Stores text information. Used for domain verification
    → Improves email security
  6) NS Records :
    → Specifies authoritative DNS server
    → Automatically created for Hosted zones
  7) SOA Records (Start of Authority) :
    → Contains administrative information of Domain
    → Automatically created by Route53
  8) Alias Record (AWS specific) :
    → AWS extension to DNS
    → Points a domain to ELB, CloudFront, API Gateway, S3 website.

Health check available = ✓
Health check not available = ✗
```
## Types of Routing policies in Route53


| No.   | Routing Policy                        | Concept                                                                                            | Characteristics                                                                                                                                                   | Use cases                                                                   | Example                                                                  |
| ----- | ------------------------------------- | -------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- | ------------------------------------------------------------------------ |
| **1** | **Simple Routing policy**             | 1. Maps a domain to one resource <br> 2. No health check happens <br> 3. Returns single DNS answer | 1. Only one record is created <br> 2. Cannot do failover <br> 3. Simplest configuration                                                                           | 1. Dev/Test environments <br> 2. For single EC2 or Load Balancer            | 1. example.com → 54.543.37.10                                            |
| **2** | **Weighted Routing Policy**           | 1. Distributes traffic based on assigned weights <br> 2. Weight value = relative traffic share     | 1. Supports multiple records <br> 2. Weights ranges 0 to 255 <br> 3. Can be used with health checks                                                               | 1. Blue-Green deployment <br> 2. A/B testing, Canary release                | 1. Version A - weight 80 (80%) <br> 2. Version B - weight 20 (20%)       |
| **3** | **Latency-Based Routing Policy**      | 1. Routes users to lowest latency AWS region <br> 2. AWS measures network latency automatically    | 1. Region based routing <br> 2. Improves performance for global users <br> 3. No manual latency values required                                                   | 1. Global applications <br> 2. Multi-region deployments                     | 1. User in India → ap-south-1 <br> 2. User in USA → us-east-1            |
| **4** | **Failover Routing Policy**           | 1. Routes traffic to primary resources <br> 2. If primary fails then it goes to secondary          | 1. Requires Route53 health checks <br> 2. Two record only (Primary & Secondary)                                                                                   | 1. Disaster Recovery (DR) <br> 2. High availability architecture            | 1. Primary → ALB (Mumbai) <br> 2. Secondary → ALB (Singapore)            |
| **5** | **Geo Location Routing Policy**       | 1. Routes traffic based on users geographic location <br> 2. Based on country/continent            | 1. You define location rules <br> 2. Supports default route <br> 3. Does not consider latency                                                                     | 1. Legal compliance (country specific service) <br> 2. Content localization | 1. IND → IN servers <br> 2. EUROPE → EU servers <br> 3. Others → Default |
| **6** | **Geo Proximity Routing Policy**      | 1. Routes traffic based on geographic distance <br> 2. Allows bias to shift traffic                | 1. Routes traffic close/farther <br> 2. Bias lets you move traffic closer/farther <br> 3. More advanced than geolocation                                          | 1. Fine-grained traffic control <br> 2. Gradual regional traffic migration  | 1. -10 → reduce traffic <br> 2. +30 → attract more traffic               |
| **7** | **Multi-value answer routing policy** | 1. Returns multiple healthy IP addresses <br> 2. Client choose one IP randomly                     | 1. Supports health checks <br> 2. Simple DNS level load balancing <br> 3. Not a replacement for ELB <br>|         1. Fault tolerance <br> 2. Small-scale load distribution                                                                      | 1. example.com → [IP1, IP2, IP3, IP4]                                    |
