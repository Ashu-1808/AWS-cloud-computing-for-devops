
# R53........(Networking)
```
- R → Routing
- 53 → It works on Port No 53**
- Route 53** is a highly available & scalable DNS (Domain Name System) web service from AWS.
- Domain is used to convert domain name to IP address.
- How can use Route 53?
   1. Transfer existing domain
   2. Register new domain
   3. Route traffic for domain
   4. Perform health check for your resources
- Route 53 is a global service
- Types of TLD
  1. Generic Level Domain
  2. Geographic Level Domain / Country code domain
  Example:
  ```

```
In AWS there are two top level domain :
  1. Generic level domain: .com, .org, .net, .edu
  2.Geographical level domain: .in, .us, .cn

Steps to configure Route-53 :
  1. First you need to register a domain
     (It can be on R53 or another DNS register)
  2. Create a hosted zone on route53 then it can be done automatically.
     If you register your domain from route53, otherwise you have to create hosted zone manually.
  3. Inside the hosted zone you need to create record set.


Hosted zone :
 - Hosted zone is a container of records
 - Records contain info for how you want to route traffic for specific domain.
   eg: ediblitz.edmingte.com/v3/myaccount
 - Types of Hosted zone
   1. Public Hosted zone:
     It contains how you want to route the traffic on internet
   2. Private Hosted zone:
     It contains records that specifies how you want to route traffic to VPC

- For each public hosted zonethat you create on Amazon-R53 automatically creates:
  1.Name Server(NS) Records:
  2.Start Of Authority(SOA) Records:
- Always remember 4 NS record will be created
- SOA record is nothing but details of your domain
- NS records is responsible for resolving your domain


Records: Record tells DNS where to route the traffic for a domain or subdomain
 Record types :
  1) A Record :
    → Maps a domain name to an IPv4 address
      eg: google.com → 8.8.8.8
  2) AAAA Record :
    → Maps a domain name to an IPv6 address
  3) CNAME Record :
    → Maps one domain name to another domain name
     [www.google.com](http://www.google.com) → google.com
  4) MX Records :
    → Routes emails to server
      example.com → mail.example.com
  5) TXT Records :
    → Stores text information. Used for domain verification
    → Improves email security
  6) NS Records :
    → Specifies authoritative DNS server
    → Automatically created for Hosted zones
  7) SOA Records (Start of Authority) :
    → Contains administrative information of Domain
    → Automatically created by Route53
  8) Alias Record (AWS specific) :
    → AWS extension to DNS
    → Points a domain to ELB, CloudFront, API Gateway, S3 website.

Health check available = ✓
Health check not available = ✗
```
## Types of Routing policies in Route53


### 1. Simple Routing Policy

| Category            | Details                           |
| ------------------- | --------------------------------- |
| **Concept**         | Maps a domain to **one resource** |
|                     | No health check                   |
|                     | Returns **single DNS answer**     |
| **Characteristics** | Only one record                   |
|                     | Cannot perform failover           |
|                     | Simplest configuration            |
| **Use Cases**       | Dev/Test environments             |
|                     | Single EC2 or Load Balancer       |
| **Example**         | `example.com → 54.543.37.10`      |

---

### 2. Weighted Routing Policy

| Category            | Details                                           |
| ------------------- | ------------------------------------------------- |
| **Concept**         | Distributes traffic based on assigned **weights** |
|                     | Weight value = relative traffic share             |
| **Characteristics** | Supports multiple records                         |
|                     | Weight range: **0 – 255**                         |
|                     | Can be used with health checks                    |
| **Use Cases**       | Blue-Green deployment                             |
|                     | A/B testing                                       |
|                     | Canary release                                    |
| **Example**         | Version A → 80 (80%)                              |
|                     | Version B → 20 (20%)                              |

---

### 3. Latency-Based Routing Policy

| Category            | Details                                       |
| ------------------- | --------------------------------------------- |
| **Concept**         | Routes users to **lowest latency AWS region** |
|                     | AWS measures latency automatically            |
| **Characteristics** | Region-based routing                          |
|                     | Improves global performance                   |
|                     | No manual latency configuration               |
| **Use Cases**       | Global applications                           |
|                     | Multi-region deployment                       |
| **Example**         | India user → ap-south-1                       |
|                     | USA user → us-east-1                          |


### 4. Failover Routing Policy

| Category            | Details                                |
| ------------------- | -------------------------------------- |
| **Concept**         | Routes traffic to **Primary resource** |
|                     | If primary fails → switch to Secondary |
| **Characteristics** | Requires Route53 health checks         |
|                     | Only two records (Primary & Secondary) |
| **Use Cases**       | Disaster Recovery (DR)                 |
|                     | High Availability architecture         |
| **Example**         | Primary → ALB (Mumbai)                 |
|                     | Secondary → ALB (Singapore)            |


### 5. Geolocation Routing Policy

| Category            | Details                                                |
| ------------------- | ------------------------------------------------------ |
| **Concept**         | Routes traffic based on **user’s geographic location** |
|                     | Country / Continent based                              |
| **Characteristics** | Define location rules manually                         |
|                     | Supports default route                                 |
|                     | Does NOT consider latency                              |
| **Use Cases**       | Legal compliance                                       |
|                     | Country-specific content                               |
|                     | Content localization                                   |
| **Example**         | India → IN servers                                     |
|                     | Europe → EU servers                                    |
|                     | Others → Default server                                |



### 6. Geoproximity Routing Policy

| Category            | Details                                         |
| ------------------- | ----------------------------------------------- |
| **Concept**         | Routes traffic based on **geographic distance** |
|                     | Allows bias to shift traffic                    |
| **Characteristics** | Can move traffic closer/farther                 |
|                     | Bias value controls traffic distribution        |
|                     | More advanced than Geolocation                  |
| **Use Cases**       | Fine-grained traffic control                    |
|                     | Gradual regional traffic migration              |
| **Example**         | Bias -10 → Reduce traffic                       |
|                     | Bias +30 → Attract more traffic                 |



### 7. Multi-Value Answer Routing Policy

| Category            | Details                                   |
| ------------------- | ----------------------------------------- |
| **Concept**         | Returns multiple **healthy IP addresses** |
|                     | Client randomly selects one               |
| **Characteristics** | Supports health checks                    |
|                     | Simple DNS-level load balancing           |
|                     | Not a replacement for ELB                 |
|                     | Provides fault tolerance                  |
| **Use Cases**       | Small-scale load distribution             |
|                     | Basic high availability                   |
| **Example**         | `example.com → [IP1, IP2, IP3, IP4]`      |



